<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Filter Web App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">
  <h1 class="text-center mb-4"> Image Filter Web App</h1>

  <!-- Upload Form -->
  <form method="POST" enctype="multipart/form-data" class="mb-4 text-center">
    <input type="file" name="image" class="form-control mb-2" required>
    <button type="submit" class="btn btn-primary">Upload</button>
  </form>

  {% if uploaded_image %}
  <div class="row">
    <div class="col-md-6 text-center">
      <h5>Original Image</h5>
      <!-- Show uploaded image -->
      <img src="{{ url_for('static', filename='uploads/' ~ uploaded_image) }}"
           class="img-fluid border rounded" style="max-height:400px;">
    </div>

    {% if processed_image %}
    <div class="col-md-6 text-center">
      <h5>Processed Image</h5>
      <!-- Show processed image -->
      <img src="{{ url_for('static', filename='processed/' ~ processed_image) }}"
           class="img-fluid border rounded" style="max-height:400px;">

      <!-- Download button -->
      <div class="mt-3">
        <a href="/download/{{ processed_image }}" class="btn btn-success">
           Download Processed Image
        </a>
      </div>
    </div>
    {% endif %}
  </div>

  <!-- Filter Buttons -->
  <div class="text-center mt-4">
    <h4>Apply Filter:</h4>
    <a href="/filter/gray/{{ uploaded_image }}" class="btn btn-secondary m-1">Gray</a>
    <a href="/filter/blur/{{ uploaded_image }}" class="btn btn-secondary m-1">Blur</a>
    <a href="/filter/edge/{{ uploaded_image }}" class="btn btn-secondary m-1">Edge</a>
    <a href="/filter/sharpen/{{ uploaded_image }}" class="btn btn-secondary m-1">Sharpen</a>
    <a href="/filter/invert/{{ uploaded_image }}" class="btn btn-secondary m-1">Invert</a>
    <a href="/filter/sepia/{{ uploaded_image }}" class="btn btn-secondary m-1">Sepia</a>
  </div>
  {% endif %}
</div>

</body>
</html>
